(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9878],{3655:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/winners/add",function(){return l(7540)}])},7081:function(e,a,l){"use strict";var n=l(5893);l(7294);let s=e=>{let{children:a,className:l,gradient:s,...t}=e;return(0,n.jsx)("button",{className:"".concat(s||"grad-to-right","  ").concat(l||""),...t,children:a})};a.Z=s},7403:function(e,a,l){"use strict";var n=l(3977),s=l(6650);let t=(0,n.ZF)({apiKey:"AIzaSyA_RWmWVRuQC-785kQ40sEdwNnz6Yb6sBM",authDomain:"brilliant-brains-7e04f.firebaseapp.com",projectId:"brilliant-brains-7e04f",storageBucket:"brilliant-brains-7e04f.appspot.com",messagingSenderId:"838066145252",appId:"1:838066145252:web:503b26af450ef5b3dd69f1"}),i=(0,s.cF)(t);a.Z=i},1926:function(e,a,l){"use strict";var n=l(7294),s=l(6650),t=l(7403),i=l(7632);let r=()=>{let[e,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!1),[o,d]=(0,n.useState)(null),[c,m]=(0,n.useState)(null),u=(0,i.Z)(),p=e=>{a(null),d(0),r(!0);let l=(0,s.iH)(t.Z,"images/".concat(u)),n=(0,s.B0)(l,e);n.on("state_changed",e=>{let a=e.bytesTransferred/e.totalBytes*100;switch(d(a),console.log("Upload is "+a+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}},e=>{a(null==e?void 0:e.message),r(!1),console.log("error",e)},()=>{a(null),d(100),r(!1),(0,s.Jt)(n.snapshot.ref).then(e=>{console.log("File available at",e),m(e)})})};return{url:c,uploadImage:p,error:e,progress:o,setError:a,loading:l,setUrl:m}};a.Z=r},7540:function(e,a,l){"use strict";l.r(a);var n=l(5893),s=l(7294),t=l(9008),i=l.n(t),r=l(8705),o=l(2396),d=l(7081),c=l(1163),m=l(3029),u=l(2920),p=l(1974),x=l(1926);let h={email:"",name:"",position:"",category:"",image:""},g=()=>{let[e,a]=(0,s.useReducer)((e,a)=>"reset"===a.type?h:{...e,[a.type]:a.payload},h),{url:l,uploadImage:t,error:o,progress:g,setError:b,loading:f}=(0,x.Z)(),j=(0,c.useRouter)(),{loading:v,error:y,data:N,post:k}=(0,m.Z)({api:"/winners",onSuccess:()=>{(0,u.Am)("Winner Added"),a({type:"reset"})}}),w=a=>{a.preventDefault(),k(e)};return(0,s.useEffect)(()=>{l&&a({type:"image",payload:l})},[l]),(0,n.jsxs)(r.Z,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Brilliant Brains"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("link",{rel:"icon",href:"/faviconimg.png"})]}),(v||f)&&(0,n.jsx)(p.Z,{modalOpen:!0}),(0,n.jsxs)("div",{className:"p-4 py-12 sm:px-12 h-full overflow-y-auto",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4 justify-between mb-16",children:[(0,n.jsx)("h1",{className:"text-3xl text-black/70 font-argentinum",children:"Add Winners"}),(0,n.jsx)(d.Z,{onClick:()=>j.push("/admin/winners"),className:"text-white px-4 sm:px-6 py-2 rounded-md text-sm",children:"View Winners"})]}),(0,n.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:w,children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("label",{htmlFor:"name",className:"text-black/70",children:"Name"}),(0,n.jsx)("input",{required:!0,onChange:e=>a({type:"name",payload:e.target.value}),value:null==e?void 0:e.name,type:"text",name:"name",id:"name",className:"border border-black/20 rounded-xl p-2"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("label",{htmlFor:"email",className:"text-black/70",children:"Email"}),(0,n.jsx)("input",{required:!0,onChange:e=>a({type:"email",payload:e.target.value}),value:null==e?void 0:e.email,type:"email",name:"email",id:"email",className:"border border-black/20 rounded-md p-2"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"text-black/70",children:"Upload Image"}),(0,n.jsx)("label",{className:"border border-black/20 rounded-md p-2 min-h-[42px] max-h-12 whitespace-nowrap overflow-hidden bg-white",htmlFor:"image",children:(null==e?void 0:e.image)?null==e?void 0:e.image:""}),(0,n.jsx)("input",{type:"file",name:"image",id:"image",className:"w-0 h-0 invisible",onChange:e=>t(e.target.files[0])})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("label",{htmlFor:"category",className:"text-black/70",children:"Category"}),(0,n.jsxs)("select",{required:!0,onChange:e=>a({type:"category",payload:e.target.value}),value:null==e?void 0:e.category,name:"category",id:"category",className:"border border-black/20 rounded-md p-2",children:[(0,n.jsx)("option",{value:"",children:"--"}),(0,n.jsx)("option",{value:"primary",children:"Primary"}),(0,n.jsx)("option",{value:"secondary",children:"Secondary"}),(0,n.jsx)("option",{value:"Undergraduate",children:"Undergraduate"}),(0,n.jsx)("option",{value:"Postgraduate",children:"Postgraduate"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("label",{htmlFor:"position",className:"text-black/70",children:"Position"}),(0,n.jsxs)("select",{required:!0,onChange:e=>a({type:"position",payload:e.target.value}),value:null==e?void 0:e.position,name:"position",id:"position",className:"border border-black/20 rounded-md p-2",children:[(0,n.jsx)("option",{value:"",children:"--"}),(0,n.jsx)("option",{value:"1",children:"1st Position"}),(0,n.jsx)("option",{value:"2",children:"2nd Position"}),(0,n.jsx)("option",{value:"3",children:"3rd Position"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4 mt-8",children:[(0,n.jsx)(d.Z,{type:"submit",className:"text-white px-4 sm:px-6 py-2 rounded-md text-sm",children:"Add Winner"}),(0,n.jsx)("button",{onClick:()=>a({type:"reset"}),className:"text-black/60 px-4 sm:px-6 py-2 rounded-xl text-sm",children:"Clear"})]})]})]})]})};a.default=(0,o.Z)(g)}},function(e){e.O(0,[1228,3874,5445,4617,4980,8907,5937,4090,6865,1100,4730,9774,2888,179],function(){return e(e.s=3655)}),_N_E=e.O()}]);