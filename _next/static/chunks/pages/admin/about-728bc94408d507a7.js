(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6890],{1244:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/about",function(){return s(3200)}])},7081:function(e,t,s){"use strict";var a=s(5893);s(7294);let l=e=>{let{children:t,className:s,gradient:l,...n}=e;return(0,a.jsx)("button",{className:"".concat(l||"grad-to-right","  ").concat(s||""),...n,children:t})};t.Z=l},7403:function(e,t,s){"use strict";var a=s(3977),l=s(6650);let n=(0,a.ZF)({apiKey:"AIzaSyA_RWmWVRuQC-785kQ40sEdwNnz6Yb6sBM",authDomain:"brilliant-brains-7e04f.firebaseapp.com",projectId:"brilliant-brains-7e04f",storageBucket:"brilliant-brains-7e04f.appspot.com",messagingSenderId:"838066145252",appId:"1:838066145252:web:503b26af450ef5b3dd69f1"}),i=(0,l.cF)(n);t.Z=i},1926:function(e,t,s){"use strict";var a=s(7294),l=s(6650),n=s(7403),i=s(7632);let o=()=>{let[e,t]=(0,a.useState)(null),[s,o]=(0,a.useState)(!1),[c,r]=(0,a.useState)(null),[d,x]=(0,a.useState)(null),u=(0,i.Z)(),m=e=>{t(null),r(0),o(!0);let s=(0,l.iH)(n.Z,"images/".concat(u)),a=(0,l.B0)(s,e);a.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;switch(r(t),console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}},e=>{t(null==e?void 0:e.message),o(!1),console.log("error",e)},()=>{t(null),r(100),o(!1),(0,l.Jt)(a.snapshot.ref).then(e=>{console.log("File available at",e),x(e)})})};return{url:d,uploadImage:m,error:e,progress:c,setError:t,loading:s,setUrl:x}};t.Z=o},3200:function(e,t,s){"use strict";s.r(t);var a=s(5893),l=s(7294),n=s(9008),i=s.n(n),o=s(8705),c=s(2396),r=s(7081),d=s(1163),x=s(3029),u=s(2920),m=s(1974),p=s(1926),f=s(5675),h=s.n(f);let g={_id:null,first_section:{text:"",image:""},second_section:{text:"",image:""},third_section:""},b=()=>{var e,t,s,n,c,f;let[b,v]=(0,l.useState)(!1),[j,y]=(0,l.useReducer)((e,t)=>"update"===t.type&&"string"!=typeof t.payload?{...e,...t.payload}:{...e,[t.type]:t.payload},g),{url:_,uploadImage:N,error:w,progress:k,setError:Z,loading:S}=(0,p.Z)(),{url:E,uploadImage:C,error:I,loading:U}=(0,p.Z)();(0,d.useRouter)();let{loading:B,error:F,data:z,post:A}=(0,x.Z)({api:"/about/".concat(j._id),method:"PATCH",onSuccess:()=>{(0,u.Am)("Updated successfully"),q()}}),D=e=>{e.preventDefault(),A({second_section:j.second_section})},R=e=>{e.preventDefault(),A({third_section:j.third_section})},T=e=>{e.preventDefault(),A({first_section:j.first_section})};(0,l.useEffect)(()=>{_&&y({type:"first_section",payload:{...j.first_section,image:_}})},[_]),(0,l.useEffect)(()=>{E&&y({type:"second_section",payload:{...j.second_section,image:E}})},[E]);let q=async()=>{try{v(!0);let e=await fetch("/api/about"),t=await e.json();if(!e.ok)throw Error(t.message);y({type:"update",payload:t[0]})}catch(e){console.log({error:e})}finally{v(!1)}};return(0,l.useEffect)(()=>{q()},[]),(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Brilliant Brains"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("link",{rel:"icon",href:"/faviconimg.png"})]}),(B||b||S)&&(0,a.jsx)(m.Z,{modalOpen:!0}),(0,a.jsxs)("div",{className:"p-4 py-12 sm:px-12 h-full overflow-y-auto",children:[(0,a.jsxs)("section",{className:"pb-10 border-b",children:[(0,a.jsx)("h1",{className:"text-2xl text-black/70 font-argentinum mb-6",children:"Section 1"}),(0,a.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:T,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{htmlFor:"text",className:"text-black/70",children:"text"}),(0,a.jsx)("textarea",{rows:5,required:!0,onChange:e=>y({type:"first_section",payload:{...j.first_section,text:e.target.value}}),value:null==j?void 0:null===(e=j.first_section)||void 0===e?void 0:e.text,name:"text",id:"text",className:"border border-black/20 rounded-md p-2"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-black/70",children:"Image"}),(null==j?void 0:null===(t=j.first_section)||void 0===t?void 0:t.image)&&(0,a.jsx)(h(),{width:100,height:100,src:null==j?void 0:null===(s=j.first_section)||void 0===s?void 0:s.image,alt:"",className:"h-24 w-24 bg-gray-100 object-cover z-10 relative"}),(0,a.jsx)("input",{type:"file",name:"image",id:"image",className:"",onChange:e=>N(e.target.files[0])})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(r.Z,{type:"submit",className:"text-white px-4 sm:px-6 py-2 rounded-xl text-sm",children:"Update"})})]})]}),(0,a.jsxs)("section",{className:"py-10 border-b",children:[(0,a.jsx)("h1",{className:"text-2xl text-black/70 font-argentinum mb-6",children:"Section 2"}),(0,a.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:D,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{htmlFor:"text",className:"text-black/70",children:"text"}),(0,a.jsx)("textarea",{rows:5,required:!0,onChange:e=>y({type:"second_section",payload:{...j.second_section,text:e.target.value}}),value:null==j?void 0:null===(n=j.second_section)||void 0===n?void 0:n.text,name:"text",id:"text",className:"border border-black/20 rounded-md p-2"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-black/70",children:"Image"}),(null==j?void 0:null===(c=j.second_section)||void 0===c?void 0:c.image)&&(0,a.jsx)(h(),{width:100,height:100,src:null==j?void 0:null===(f=j.second_section)||void 0===f?void 0:f.image,alt:"",className:"h-24 w-24 bg-gray-100 object-cover z-10 relative"}),(0,a.jsx)("input",{type:"file",name:"image",id:"image",className:"",onChange:e=>C(e.target.files[0])})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(r.Z,{type:"submit",className:"text-white px-4 sm:px-6 py-2 rounded-xl text-sm",children:"Update"})})]})]}),(0,a.jsxs)("section",{className:"py-10 border-b",children:[(0,a.jsx)("h1",{className:"text-2xl text-black/70 font-argentinum mb-6",children:"Section 3"}),(0,a.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:R,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{htmlFor:"text",className:"text-black/70",children:"text"}),(0,a.jsx)("textarea",{rows:5,required:!0,onChange:e=>y({type:"third_section",payload:e.target.value}),value:null==j?void 0:j.third_section,name:"text",id:"text",className:"border border-black/20 rounded-md p-2"})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(r.Z,{type:"submit",className:"text-white px-4 sm:px-6 py-2 rounded-xl text-sm",children:"Update"})})]})]})]})]})};t.default=(0,c.Z)(b)}},function(e){e.O(0,[1228,3874,5445,4617,4980,8907,5937,4090,6865,1100,4730,9774,2888,179],function(){return e(e.s=1244)}),_N_E=e.O()}]);