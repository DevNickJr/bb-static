(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8665],{7562:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/winners",function(){return t(4566)}])},4566:function(e,n,t){"use strict";t.r(n);var s=t(5893),i=t(7294),l=t(9008),a=t.n(l),o=t(8705),r=t(2396),c=t(7935),d=t(7081),u=t(1163),m=t(3029),p=t(2920),x=t(1974);let f=()=>{let[e,n]=(0,i.useState)([]),[t,l]=(0,i.useState)(!1),r=(0,u.useRouter)(),{loading:f,error:h,post:w,data:j}=(0,m.Z)({api:"/winners",method:"DELETE",onSuccess:()=>{(0,p.Am)("Winner deleted successfully")}}),_=(e,n)=>{w({id:e},n)};return(0,i.useEffect)(()=>{let e=async()=>{try{l(!0);let e=await fetch("/api/winners"),t=await e.json();if(!e.ok)throw Error(t.message);console.log({data:t}),n(t)}catch(e){console.log({error:e})}l(!1)};e()},[j]),(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Brilliant Brains"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/faviconimg.png"})]}),(t||f)&&(0,s.jsx)(x.Z,{modalOpen:!0}),(0,s.jsxs)("div",{className:"p-4 py-12 sm:px-12 h-full overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 justify-between mb-16",children:[(0,s.jsx)("h1",{className:"text-3xl text-black/70 font-argentinum",children:"Winners"}),(0,s.jsx)(d.Z,{onClick:()=>r.push("/admin/winners/add"),className:"text-white px-4 sm:px-6 py-2 rounded-xl text-sm",children:"Add Winners"})]}),(0,s.jsx)(c.Z,{data:e,columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!1}},{name:"category",label:"Category",options:{filter:!0,sort:!1}},{name:"position",label:"Position",options:{filter:!0,sort:!1}},{name:"delete",label:"Action",extra:!0,custom:(e,n)=>(0,s.jsx)("div",{className:"gap-4 justify-center",children:(0,s.jsx)("button",{onClick:()=>_(null==n?void 0:n._id,"winners/".concat(null==n?void 0:n._id)),className:"p-2 px-4 bg-red-600 text-white rounded-full",children:"Delete"})})}],className:""})]})]})};n.default=(0,r.Z)(f)}},function(e){e.O(0,[1228,3874,5445,4617,4980,8907,5937,4090,6865,4730,3868,9774,2888,179],function(){return e(e.s=7562)}),_N_E=e.O()}]);