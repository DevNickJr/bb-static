(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1293],{3787:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/scholarships/[id]",function(){return t(2374)}])},7081:function(e,a,t){"use strict";var s=t(5893);t(7294);let l=e=>{let{children:a,className:t,gradient:l,...n}=e;return(0,s.jsx)("button",{className:"".concat(l||"grad-to-right","  ").concat(t||""),...n,children:a})};a.Z=l},7403:function(e,a,t){"use strict";var s=t(3977),l=t(6650);let n=(0,s.ZF)({apiKey:"AIzaSyA_RWmWVRuQC-785kQ40sEdwNnz6Yb6sBM",authDomain:"brilliant-brains-7e04f.firebaseapp.com",projectId:"brilliant-brains-7e04f",storageBucket:"brilliant-brains-7e04f.appspot.com",messagingSenderId:"838066145252",appId:"1:838066145252:web:503b26af450ef5b3dd69f1"}),r=(0,l.cF)(n);a.Z=r},1926:function(e,a,t){"use strict";var s=t(7294),l=t(6650),n=t(7403),r=t(7632);let i=()=>{let[e,a]=(0,s.useState)(null),[t,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),p=(0,r.Z)(),m=e=>{a(null),c(0),i(!0);let t=(0,l.iH)(n.Z,"images/".concat(p)),s=(0,l.B0)(t,e);s.on("state_changed",e=>{let a=e.bytesTransferred/e.totalBytes*100;switch(c(a),console.log("Upload is "+a+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}},e=>{a(null==e?void 0:e.message),i(!1),console.log("error",e)},()=>{a(null),c(100),i(!1),(0,l.Jt)(s.snapshot.ref).then(e=>{console.log("File available at",e),u(e)})})};return{url:d,uploadImage:m,error:e,progress:o,setError:a,loading:t,setUrl:u}};a.Z=i},2374:function(e,a,t){"use strict";t.r(a);var s=t(5893),l=t(7294),n=t(9008),r=t.n(n),i=t(8705),o=t(2396),c=t(7081),d=t(1163),u=t(3029),p=t(2920),m=t(1974),h=t(1926);let x={name:"",start:"",end:"",category:"",requirements:""},g=()=>{let[e,a]=(0,l.useState)(!1),[t,n]=(0,l.useReducer)((e,a)=>"reset"===a.type?x:"update"===a.type&&"string"!=typeof a.data?{...e,...a.data}:{...e,[a.type]:a.payload},x),{url:o,uploadImage:g,error:b,progress:f,setError:y,loading:j}=(0,h.Z)();(0,l.useRef)(null);let v=(0,d.useRouter)(),{id:N}=v.query,{loading:k,error:w,data:_,post:q}=(0,u.Z)({api:"/scholarships/".concat(N),method:"PATCH",onSuccess:()=>{(0,p.Am)("Scholarship Updated"),n({type:"reset"}),v.push("/admin/scholarships")}}),S=e=>{e.preventDefault(),q(t)},Z=(0,l.useCallback)(async()=>{try{a(!0);let e=await fetch("/api/scholarships/".concat(N)),t=await e.json();if(!e.ok)throw Error(t.message);n({type:"update",data:t})}catch(e){console.log({error:e})}a(!1)},[N]);return(0,l.useEffect)(()=>{Z()},[N,Z]),(0,s.jsxs)(i.Z,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"Brilliant Brains"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/faviconimg.png"})]}),(e||k||j)&&(0,s.jsx)(m.Z,{modalOpen:!0}),(0,s.jsxs)("div",{className:"p-4 py-12 sm:px-12 h-full overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 justify-between mb-16",children:[(0,s.jsx)("h1",{className:"text-3xl text-black/70 font-argentinum",children:"Edit Scholarship"}),(0,s.jsx)(c.Z,{onClick:()=>v.push("/admin/scholarships"),className:"text-white px-4 sm:px-6 py-2 rounded-xl text-sm",children:"View Scholarships"})]}),(0,s.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:S,children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{htmlFor:"name",className:"text-black/70",children:"Name"}),(0,s.jsx)("input",{required:!0,onChange:e=>n({type:"name",payload:e.target.value}),value:null==t?void 0:t.name,type:"text",name:"name",id:"name",className:"border border-black/20 rounded-md p-2"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{htmlFor:"category",className:"text-black/70",children:"Category"}),(0,s.jsx)("input",{required:!0,onChange:e=>n({type:"category",payload:e.target.value}),value:null==t?void 0:t.category,type:"text",name:"category",id:"category",className:"border border-black/20 rounded-md p-2"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{htmlFor:"start",className:"text-black/70",children:"Start Date"}),(0,s.jsx)("input",{maxLength:120,required:!0,onChange:e=>n({type:"start",payload:e.target.value}),value:null==t?void 0:t.start,type:"date",name:"start",id:"start",className:"border border-black/20 rounded-md p-2"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{htmlFor:"end",className:"text-black/70",children:"End Date"}),(0,s.jsx)("input",{maxLength:120,required:!0,onChange:e=>n({type:"end",payload:e.target.value}),value:null==t?void 0:t.end,type:"date",name:"end",id:"end",className:"border border-black/20 rounded-md p-2"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{htmlFor:"requirements",className:"text-black/70",children:"Requirements"}),(0,s.jsx)("textarea",{minLength:200,maxLength:450,rows:3,required:!0,onChange:e=>n({type:"requirements",payload:e.target.value}),value:null==t?void 0:t.requirements,name:"requirements",id:"requirements",className:"border border-black/20 rounded-md p-2"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4 mt-8",children:(0,s.jsx)(c.Z,{type:"submit",className:"text-white px-4 sm:px-6 py-2 rounded-md text-sm",children:"Update"})})]})]})]})};a.default=(0,o.Z)(g)}},function(e){e.O(0,[1228,3874,5445,4617,4980,8907,5937,4090,6865,1100,4730,9774,2888,179],function(){return e(e.s=3787)}),_N_E=e.O()}]);